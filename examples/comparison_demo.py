"""
æ¶æ„å¯¹æ¯”æ¼”ç¤º

å±•ç¤ºæ–°æ¶æ„ç›¸æ¯”æ—§æ¶æ„çš„ä¼˜åŠ¿
"""

import sys
from pathlib import Path
sys.path.insert(0, str(Path(__file__).parent.parent))


def print_header(title):
    """æ‰“å°æ ‡é¢˜"""
    print("\n" + "=" * 70)
    print(f"  {title}")
    print("=" * 70)


def demo_old_architecture():
    """æ¼”ç¤ºæ—§æ¶æ„ï¼ˆå·²åºŸå¼ƒï¼‰"""
    print_header("âŒ æ—§æ¶æ„ - æ¯ä¸€å±‚éƒ½æ˜¯Agent")
    
    print("""
æµç¨‹:
  ä¼ æ„Ÿå™¨æ•°æ® 
    â†“ [è°ƒç”¨PerceptionWorkerAgent] â† 500 tokens
  L1åœºæ™¯å›¾
    â†“ [è°ƒç”¨EventAggregatorAgent] â† 800 tokens
  L2äº‹ä»¶
    â†“ [è°ƒç”¨MemoryOrchestratorAgent] â† 2000 tokens
  L3/L4æ‘˜è¦
    â†“ [è°ƒç”¨SearchWorkerAgent] â† ä¸å®š
  æŸ¥è¯¢ç»“æœ

æ¯æ¬¡æŸ¥è¯¢: ~3300 tokens
æ¯å¤©1000æ¬¡: 3,300,000 tokens â‰ˆ $49.5

é—®é¢˜:
âŒ Tokenæ¶ˆè€—å·¨å¤§
âŒ Agenté—´é€šä¿¡å¤æ‚
âŒ å»¶è¿Ÿé«˜ï¼ˆå¤šæ¬¡LLMè°ƒç”¨ï¼‰
âŒ éš¾ä»¥è°ƒè¯•å’Œç»´æŠ¤
""")


def demo_new_architecture():
    """æ¼”ç¤ºæ–°æ¶æ„ï¼ˆæ¨èï¼‰"""
    print_header("âœ… æ–°æ¶æ„ - ä¸‰ä¸ªåå¤„ç†Agent")
    
    print("""
æµç¨‹:
  ä¼ æ„Ÿå™¨æ•°æ®
    â†“ [ä½¿ç”¨ç°æœ‰llm_emvä»£ç æ„å»ºH-EMVæ ‘] â† å·²ä¼˜åŒ–
  å®Œæ•´çš„è®°å¿†æ ‘ (L0-L4+)
    â†“
  åå¤„ç†Agentï¼ˆä½é¢‘è¿è¡Œï¼‰:
    
    â”Œâ”€ ForgettingAgent (æ¯å°æ—¶)
    â”‚  - è®¡ç®—æ•ˆç”¨å€¼ U(n,t)
    â”‚  - åˆ é™¤ä½æ•ˆç”¨è®°å¿†
    â”‚  Token: 1000/æ¬¡ Ã— 24æ¬¡ = 24,000/å¤©
    â”‚
    â”Œâ”€ ConsolidationAgent (æ¯æ™š)
    â”‚  - æŸ¥æ‰¾ç›¸ä¼¼è®°å¿†
    â”‚  - æå–é€šç”¨æ¨¡å¼
    â”‚  Token: 5000/æ¬¡ Ã— 1æ¬¡ = 5,000/å¤©
    â”‚
    â””â”€ CorrectionAgent (æŒ‰éœ€)
       - ç”¨æˆ·çº é”™æ—¶è¿è¡Œ
       - å®šä½+ä¿®æ­£+çº§è”æ›´æ–°
       Token: 1000/æ¬¡ Ã— 50æ¬¡ = 50,000/å¤©

æŸ¥è¯¢ (ä½¿ç”¨llm_emv):
  æ¯æ¬¡: 500 tokens
  æ¯å¤©1000æ¬¡: 500,000 tokens

æ€»è®¡: 500,000 + 79,000 = 579,000 tokens/å¤© â‰ˆ $8.7

ä¼˜åŠ¿:
âœ… Tokenæ¶ˆè€—é™ä½82%
âœ… æ¶æ„ç®€æ´æ¸…æ™°
âœ… ç¬¦åˆäººç±»è®°å¿†æœºåˆ¶
âœ… æ˜“äºç†è§£å’Œæ‰©å±•
""")


def demo_token_comparison():
    """Tokenæ¶ˆè€—å¯¹æ¯”"""
    print_header("ğŸ’° Tokenæ¶ˆè€—è¯¦ç»†å¯¹æ¯”")
    
    print("""
åœºæ™¯: æœºå™¨äººè¿è¡Œ30å¤©ï¼Œæ¯å¤©1000æ¬¡æŸ¥è¯¢

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–¹æ³•               â”‚ æ¯æ¬¡æŸ¥è¯¢ â”‚ æ¯å¤©    â”‚ 30å¤©     â”‚ æœˆæˆæœ¬  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Gemini 1-pass      â”‚ 50,000   â”‚ 50M     â”‚ 1.5B     â”‚ $22,500 â”‚
â”‚ H-EMV (åŸå§‹)       â”‚ 5,000    â”‚ 5M      â”‚ 150M     â”‚ $2,250  â”‚
â”‚ æ—§Active-H-EMV     â”‚ 3,300    â”‚ 3.3M    â”‚ 99M      â”‚ $1,485  â”‚
â”‚ æ–°Active-H-EMV â­  â”‚ 500      â”‚ 579K    â”‚ 17.4M    â”‚ $261    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

èŠ‚çœ:
  vs Gemini 1-pass:  $22,239/æœˆ (99% â†“)
  vs åŸH-EMV:        $1,989/æœˆ (88% â†“)
  vs æ—§Active-H-EMV: $1,224/æœˆ (82% â†“)
""")


def demo_agent_comparison():
    """AgentåŠŸèƒ½å¯¹æ¯”"""
    print_header("ğŸ¤– AgentåŠŸèƒ½å¯¹æ¯”")
    
    print("""
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ—§æ¶æ„: 5ä¸ªAgentï¼ˆå®æ—¶è°ƒç”¨ï¼ŒTokenæ¶ˆè€—å¤§ï¼‰                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PerceptionWorkerAgent    â”‚ L0â†’L1è½¬æ¢ï¼Œæ¯æ¬¡æŸ¥è¯¢è°ƒç”¨            â”‚
â”‚ EventAggregatorAgent     â”‚ L2èšåˆï¼Œæ¯æ¬¡æŸ¥è¯¢è°ƒç”¨               â”‚
â”‚ MemoryOrchestratorAgent  â”‚ L3+åè°ƒï¼Œæ¯æ¬¡æŸ¥è¯¢è°ƒç”¨             â”‚
â”‚ MemoryGardenerAgent      â”‚ ç»´æŠ¤ï¼Œå®šæœŸè°ƒç”¨                     â”‚
â”‚ SearchWorkerAgent        â”‚ æ£€ç´¢ï¼Œæ¯æ¬¡æŸ¥è¯¢è°ƒç”¨                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–°æ¶æ„: 3ä¸ªAgentï¼ˆä½é¢‘åå¤„ç†ï¼ŒTokenæ¶ˆè€—å°ï¼‰â­                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ForgettingAgent          â”‚ é—å¿˜ï¼Œæ¯å°æ—¶/å¤©è¿è¡Œ                â”‚
â”‚ ConsolidationAgent       â”‚ æ•´åˆï¼Œæ¯æ™šè¿è¡Œï¼ˆæ¨¡æ‹Ÿç¡çœ ï¼‰         â”‚
â”‚ CorrectionAgent          â”‚ ä¿®æ­£ï¼ŒæŒ‰éœ€è¿è¡Œï¼ˆç”¨æˆ·çº é”™æ—¶ï¼‰       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
""")


def demo_cognition_mapping():
    """è®¤çŸ¥ç§‘å­¦æ˜ å°„"""
    print_header("ğŸ§  è®¤çŸ¥ç§‘å­¦ç†è®ºæ˜ å°„")
    
    print("""
äººç±»è®°å¿†è¿‡ç¨‹:
  æ„ŸçŸ¥ â†’ çŸ­æœŸè®°å¿† â†’ ç¡çœ æ•´åˆ â†’ é•¿æœŸè®°å¿†
   â†“        â†“           â†“          â†“
  L0      L1-L2     æ•´åˆAgent    L3-L4+
                        â†“
                  é—å¿˜Agent (è‰¾å®¾æµ©æ–¯æ›²çº¿)
                        â†“
                  ä¿®æ­£Agent (è®¤çŸ¥å¤±è°ƒçº æ­£)

ç†è®ºåŸºç¡€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ForgettingAgent     â”‚ Ebbinghausé—å¿˜æ›²çº¿               â”‚
â”‚                     â”‚ - æ—¶é—´è¡°å‡å‡½æ•°: exp(-Î»Â·Î”t)      â”‚
â”‚                     â”‚ - æ•ˆç”¨é©±åŠ¨é—å¿˜                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ConsolidationAgent  â”‚ è®°å¿†å·©å›ºç†è®º (Sleep Consolidation)â”‚
â”‚                     â”‚ - ç›¸ä¼¼è®°å¿†æ•´åˆ                   â”‚
â”‚                     â”‚ - æ¨¡å¼æå–ä¸æ³›åŒ–                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CorrectionAgent     â”‚ è®¤çŸ¥å¤±è°ƒç†è®º (Cognitive Dissonance)â”‚
â”‚                     â”‚ - çŸ›ç›¾æ£€æµ‹ä¸ä¿®æ­£                 â”‚
â”‚                     â”‚ - ä¸€è‡´æ€§ç»´æŠ¤                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
""")


def demo_example_workflow():
    """ç¤ºä¾‹å·¥ä½œæµ"""
    print_header("ğŸ“– å®Œæ•´å·¥ä½œæµç¤ºä¾‹")
    
    print("""
åœºæ™¯: æœºå™¨äººå·¥ä½œä¸€å¤©

08:00 - å¯åŠ¨
  â””â”€ åŠ è½½æ˜¨æ™šæ•´åˆåçš„è®°å¿†æ ‘

08:00-18:00 - å·¥ä½œæœŸé—´
  â”œâ”€ ä½¿ç”¨llm_emvæ„å»ºè®°å¿† (L0-L4+)
  â”œâ”€ ç”¨æˆ·æŸ¥è¯¢1000æ¬¡ï¼ˆæ¯æ¬¡500 tokensï¼‰
  â””â”€ æ¯å°æ—¶è§¦å‘ForgettingAgentï¼ˆåˆ é™¤ä½æ•ˆç”¨è®°å¿†ï¼‰

02:00 - å¤œé—´ï¼ˆæœºå™¨äººä¼‘çœ æœŸï¼‰
  â””â”€ ConsolidationAgentè¿è¡Œ
     â”œâ”€ æŸ¥æ‰¾ç›¸ä¼¼è®°å¿†: "æŠ“è‹¹æœ"ã€"æŠ“é¦™è•‰"ã€"æŠ“æ©™å­"
     â”œâ”€ æå–æ¨¡å¼: "å­¦ä¼šäº†æŠ“å–åœ†å½¢æ°´æœçš„æŠ€èƒ½"
     â””â”€ å¼ºåŒ–é‡è¦è®°å¿†: å¢åŠ é«˜é¢‘è®°å¿†çš„æ•ˆç”¨å€¼

ç™½å¤© - ç”¨æˆ·çº é”™ï¼ˆå‡è®¾50æ¬¡ï¼‰
  â””â”€ CorrectionAgentè¿è¡Œ
     â”œâ”€ å®šä½é”™è¯¯èŠ‚ç‚¹
     â”œâ”€ LLMç”Ÿæˆä¿®æ­£æè¿°
     â””â”€ çº§è”æ›´æ–°çˆ¶èŠ‚ç‚¹

ç»“æœ:
âœ… è®°å¿†æ ‘ä¿æŒç²¾ç®€ï¼ˆä½æ•ˆç”¨è®°å¿†è¢«åˆ é™¤ï¼‰
âœ… æå–äº†é€šç”¨æŠ€èƒ½ï¼ˆå¯å¤ç”¨çš„æ¨¡å¼ï¼‰
âœ… çº æ­£äº†é”™è¯¯è®°å¿†ï¼ˆä¿è¯å‡†ç¡®æ€§ï¼‰
âœ… Tokenæ€»æ¶ˆè€—: 579,000/å¤©ï¼ˆä»…ä¸ºæ—§æ¶æ„çš„18%ï¼‰
""")


def main():
    """ä¸»å‡½æ•°"""
    print("\n")
    print("ğŸ“ Active-H-EMV æ¶æ„å¯¹æ¯”æ¼”ç¤º")
    print("æ ¹æ®å¯¼å¸ˆå»ºè®®è¿›è¡Œçš„é‡å¤§æ¶æ„è°ƒæ•´")
    print("\n")
    
    demo_old_architecture()
    demo_new_architecture()
    demo_token_comparison()
    demo_agent_comparison()
    demo_cognition_mapping()
    demo_example_workflow()
    
    print_header("ğŸ¯ æ€»ç»“")
    print("""
æ–°æ¶æ„çš„æ ¸å¿ƒä¼˜åŠ¿:

1. ğŸ’° æˆæœ¬é™ä½82% - æ¯æœˆèŠ‚çœ$1,240
2. ğŸ§  ç¬¦åˆè®¤çŸ¥ç§‘å­¦ - æ¨¡æ‹Ÿäººç±»è®°å¿†è¿‡ç¨‹
3. ğŸ¯ æ¶æ„ç®€æ´ - ä»…3ä¸ªåŠŸèƒ½æ˜ç¡®çš„Agent
4. ğŸ”§ æ˜“äºç»´æŠ¤ - ä»£ç æ¸…æ™°ï¼Œé€»è¾‘åˆ†ç¦»
5. ğŸ“š è®ºæ–‡å‹å¥½ - åˆ›æ–°ç‚¹æ˜ç¡®ï¼Œæ˜“äºæ’°å†™

å»ºè®®:
- è¿è¡Œ examples/simple_usage.py æµ‹è¯•æ–°æ¶æ„
- å‚è€ƒ ARCHITECTURE_REDESIGN.md äº†è§£è®¾è®¡ç»†èŠ‚
- å‚è€ƒ MIGRATION_GUIDE.md è¿›è¡Œä»£ç è¿ç§»

ç¥æ¯•ä¸šè®¾è®¡é¡ºåˆ©ï¼ğŸ“ğŸš€
""")
    print("=" * 70)
    print()


if __name__ == "__main__":
    main()

